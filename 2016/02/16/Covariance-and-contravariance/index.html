<!DOCTYPE html>
<html >
<head>

    <!--[if lt IE 9]>
        <style>body {display: none; background: none !important} </style>
        <meta http-equiv="Refresh" Content="0; url=//outdatedbrowser.com/" />
    <![endif]-->

<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge, chrome=1" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<meta name="format-detection" content="telephone=no" />
<meta name="author" content="Jason Song" />



<meta name="description" content="Covariance and contravariance in program area">
<meta property="og:type" content="article">
<meta property="og:title" content="Covariance and contravariance">
<meta property="og:url" content="http://yoursite.com/2016/02/16/Covariance-and-contravariance/index.html">
<meta property="og:site_name" content="Jason Personal Blog">
<meta property="og:description" content="Covariance and contravariance in program area">
<meta property="og:image" content="http://yoursite.com/blog/images/Covariance-and-contravariance/imagesone.png">
<meta property="og:updated_time" content="2016-07-18T03:52:47.487Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Covariance and contravariance">
<meta name="twitter:description" content="Covariance and contravariance in program area">
<meta name="twitter:image" content="http://yoursite.com/blog/images/Covariance-and-contravariance/imagesone.png">

<link rel="apple-touch-icon" href= "/blog//apple-touch-icon.png">


    <link rel="alternate" href="/atom.xml" title="Jason Personal Blog" type="application/atom+xml">



    <link rel="shortcut icon" href="/blog//favicon.jpg">



    <link href="//cdn.bootcss.com/animate.css/3.5.1/animate.min.css" rel="stylesheet">



    <link href="//cdn.bootcss.com/fancybox/2.1.5/jquery.fancybox.min.css" rel="stylesheet">



    <script src="//cdn.bootcss.com/pace/1.0.2/pace.min.js"></script>
    <link href="//cdn.bootcss.com/pace/1.0.2/themes/blue/pace-theme-minimal.css" rel="stylesheet">


<link rel="stylesheet" href="/blog/css/style.css">



<link href="//cdn.bootcss.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet">


<title>Covariance and contravariance | Jason Personal Blog</title>

<script src="//cdn.bootcss.com/jquery/2.2.4/jquery.min.js"></script>
<script src="//cdn.bootcss.com/clipboard.js/1.5.10/clipboard.min.js"></script>

<script>
    var yiliaConfig = {
        fancybox: true,
        animate: true,
        isHome: false,
        isPost: true,
        isArchive: false,
        isTag: false,
        isCategory: false,
        fancybox_js: "//cdn.bootcss.com/fancybox/2.1.5/jquery.fancybox.min.js",
        scrollreveal: "//cdn.bootcss.com/scrollReveal.js/3.1.4/scrollreveal.min.js",
        search: undefined
    }
</script>


    <script>
        yiliaConfig.jquery_ui = [true, "//cdn.bootcss.com/jqueryui/1.10.4/jquery-ui.min.js", "//cdn.bootcss.com/jqueryui/1.10.4/css/jquery-ui.min.css"];
    </script>



    <script> yiliaConfig.rootUrl = /blog/; </script>





</head>
<body>
  <div id="container">
    <div class="left-col">
    <div class="overlay"></div>
<div class="intrude-less">
    <header id="header" class="inner">
        <a href="/blog/" class="profilepic">
            <img src="/blog//img/jasonsong.png" class="animated zoomIn">
        </a>
        <hgroup>
          <h1 class="header-author"><a href="/blog/">Jason Song</a></h1>
        </hgroup>

        
        <p class="header-subtitle">Back to basic</p>
        

        


        
            <div id="switch-btn" class="switch-btn">
                <div class="icon">
                    <div class="icon-ctn">
                        <div class="icon-wrap icon-house" data-idx="0">
                            <div class="birdhouse"></div>
                            <div class="birdhouse_holes"></div>
                        </div>
                        <div class="icon-wrap icon-ribbon hide" data-idx="1">
                            <div class="ribbon"></div>
                        </div>
                        
                        <div class="icon-wrap icon-link hide" data-idx="2">
                            <div class="loopback_l"></div>
                            <div class="loopback_r"></div>
                        </div>
                        
                        
                        <div class="icon-wrap icon-me hide" data-idx="3">
                            <div class="user"></div>
                            <div class="shoulder"></div>
                        </div>
                        
                    </div>
                    
                </div>
                <div class="tips-box hide">
                    <div class="tips-arrow"></div>
                    <ul class="tips-inner">
                        <li>菜单</li>
                        <li>标签</li>
                        
                        <li>友情链接</li>
                        
                        
                        <li>关于我</li>
                        
                    </ul>
                </div>
            </div>
        

        <div id="switch-area" class="switch-area">
            <div class="switch-wrap">
                <section class="switch-part switch-part1">
                    <nav class="header-menu">
                        <ul>
                        
                            <li><a href="/blog//blog/">主页</a></li>
                        
                            <li><a href="/blog//blog/archives/">所有文章</a></li>
                        
                            <li><a href="/blog//blog/tags/">标签云</a></li>
                        
                            <li><a href="/blog//blog/about/">关于我</a></li>
                        
                        </ul>
                    </nav>
                    <nav class="header-nav">
                        <ul class="social">
                            
                                <a class="fa Email" href="mailto:jasonsong74@126.com" title="Email"></a>
                            
                                <a class="fa GitHub" href="#" title="GitHub"></a>
                            
                                <a class="fa RSS" href="/blog/atom.xml" title="RSS"></a>
                            
                        </ul>
                    </nav>
                </section>
                
                
                <section class="switch-part switch-part2">
                    <div class="widget tagcloud" id="js-tagcloud">
                        <ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/blog/tags/Background-Job/">Background Job</a></li><li class="tag-list-item"><a class="tag-list-link" href="/blog/tags/CIC/">CIC</a></li><li class="tag-list-item"><a class="tag-list-link" href="/blog/tags/CSharp/">CSharp</a></li><li class="tag-list-item"><a class="tag-list-link" href="/blog/tags/Commom/">Commom</a></li><li class="tag-list-item"><a class="tag-list-link" href="/blog/tags/WebChat/">WebChat</a></li></ul>
                    </div>
                </section>
                
                
                
                <section class="switch-part switch-part3">
                    <div id="js-friends">
                    
                      <a class="main-nav-link switch-friends-link" href="https://hexo.io">Hexo</a>
                    
                      <a class="main-nav-link switch-friends-link" href="https://pages.github.com/">GitHub</a>
                    
                      <a class="main-nav-link switch-friends-link" href="http://moxfive.xyz/">MOxFIVE</a>
                    
                    </div>
                </section>
                

                
                
                <section class="switch-part switch-part4">
                
                    <div id="js-aboutme">An IT guy</div>
                </section>
                
            </div>
        </div>
    </header>                
</div>
    </div>
    <div class="mid-col">
      <nav id="mobile-nav">
      <div class="overlay">
          <div class="slider-trigger"></div>
          <h1 class="header-author js-mobile-header hide"><a href="/" title="回到主页">Jason Song</a></h1>
      </div>
    <div class="intrude-less">
        <header id="header" class="inner">
            <a href="/blog/" class="profilepic">
                <img src="/blog//img/jasonsong.png" class="animated zoomIn">
            </a>
            <hgroup>
              <h1 class="header-author"><a href="/blog/" title="回到主页">Jason Song</a></h1>
            </hgroup>
            
            <p class="header-subtitle">Back to basic</p>
            
            <nav class="header-menu">
                <ul>
                
                    <li><a href="/blog/">主页</a></li>
                
                    <li><a href="/blog/archives/">所有文章</a></li>
                
                    <li><a href="/blog/tags/">标签云</a></li>
                
                    <li><a href="/blog/about/">关于我</a></li>
                
                <div class="clearfix"></div>
                </ul>
            </nav>
            <nav class="header-nav">
                        <ul class="social">
                            
                                <a class="fa Email" target="_blank" href="mailto:jasonsong74@126.com" title="Email"></a>
                            
                                <a class="fa GitHub" target="_blank" href="#" title="GitHub"></a>
                            
                                <a class="fa RSS" target="_blank" href="/blog/atom.xml" title="RSS"></a>
                            
                        </ul>
            </nav>
        </header>                
    </div>
    <link class="menu-list" tags="标签" friends="友情链接" about="关于我"/>
</nav>
      <div class="body-wrap"><article id="post-Covariance-and-contravariance" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/blog/2016/02/16/Covariance-and-contravariance/" class="article-date">
      <time datetime="2016-02-15T16:00:00.000Z" itemprop="datePublished">2016-02-16</time>
</a>


    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      Covariance and contravariance
    </h1>
  

      </header>
      
      <div class="article-info article-info-post">
        
    <div class="article-category tagcloud">
    <a class="article-category-link" href="/blog/categories/Program/">Program</a>
    </div>


        
    <div class="article-tag tagcloud">
        <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/blog/tags/Commom/">Commom</a></li></ul>
    </div>

        <div class="clearfix"></div>
      </div>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
        <p>I picked up this topic to blog, because I think this really useful for improving code cognitive ability.<br>When I reading “Scala in Action”  to learn Scala, this is my first time to see the terms of Covariance and contravariance in language.<br>In fact, they widely exist in programming languages.</p>
<p>Covariance and contravariance definition within the type system of a programming language.</p>
<h2 id="Definition"><a href="#Definition" class="headerlink" title="Definition"></a>Definition</h2><p>Orders types of A &amp; B, it is from more specific(A) to more generic(B)</p>
<blockquote>
<p><b>Covariance definition: Orders types perserved</b></p>
<blockquote>
<p>Give Three types T, A, B<br>When T[A] -&gt; T[B]<br>Then A -&gt; B</p>
</blockquote>
<p><b>Contravariance definition: Order types reversed</b></p>
<blockquote>
<p>Give Three types T, A, B<br>When T[B] -&gt; T[A]<br>Then A -&gt; B </p>
</blockquote>
<p><b>Invariance definition:</b></p>
<blockquote>
<p>Give Three types T, A, B<br>When T[A] -&gt; T[B]<br>Then A = B (must be equivalent type between A and B,In other words, we cannot change the type parameter of T) </p>
</blockquote>
<p><b>Here, “A -&gt; B” notation means  A conform to B.</b></p>
</blockquote>
<h2 id="Sample"><a href="#Sample" class="headerlink" title="Sample"></a>Sample</h2><h3 id="Covariance-Example-1"><a href="#Covariance-Example-1" class="headerlink" title="Covariance: Example 1"></a>Covariance: Example 1</h3><figure class="highlight scala"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line">scala&gt; <span class="keyword">val</span> zar: <span class="type">List</span>[<span class="type">AnyRef</span>] = <span class="type">List</span> (<span class="string">"demo1"</span>)</div><div class="line">zar: <span class="type">List</span>[<span class="type">AnyRef</span>] = <span class="type">List</span>(demo1)</div><div class="line"></div><div class="line">scala&gt; <span class="keyword">val</span> ya: <span class="type">List</span>[<span class="type">Any</span>] = zar</div><div class="line">ya: <span class="type">List</span>[<span class="type">Any</span>] = <span class="type">List</span>(demo1)</div><div class="line"></div><div class="line">scala&gt; <span class="keyword">val</span> xs: <span class="type">List</span>[<span class="type">String</span>] = zar</div><div class="line">&lt;console&gt;:<span class="number">8</span>: error: <span class="class"><span class="keyword">type</span> <span class="title">mismatch</span></span>;</div><div class="line"> found   : <span class="type">List</span>[<span class="type">AnyRef</span>]</div><div class="line"> required: <span class="type">List</span>[<span class="type">String</span>]</div><div class="line">       <span class="keyword">val</span> xs: <span class="type">List</span>[<span class="type">String</span>] = zar</div></pre></td></tr></table></figure>
<h3 id="Covariance-Example-2"><a href="#Covariance-Example-2" class="headerlink" title="Covariance: Example 2"></a>Covariance: Example 2</h3><figure class="highlight scala"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line">scala&gt; <span class="class"><span class="keyword">class</span> <span class="title">T</span>[+<span class="type">A</span>] </span>&#123;&#125;</div><div class="line">defined <span class="class"><span class="keyword">class</span> <span class="title">T</span></span></div><div class="line"></div><div class="line">scala&gt; <span class="keyword">val</span> x = <span class="keyword">new</span> <span class="type">T</span>[<span class="type">AnyRef</span>];</div><div class="line">x: <span class="type">T</span>[<span class="type">AnyRef</span>] = <span class="type">T</span>@<span class="number">53</span>fe497b</div><div class="line"></div><div class="line">scala&gt; <span class="keyword">val</span> y: <span class="type">T</span>[<span class="type">Any</span>] = x;</div><div class="line">y: <span class="type">T</span>[<span class="type">Any</span>] = <span class="type">T</span>@<span class="number">53</span>fe497b</div><div class="line"></div><div class="line">scala&gt; <span class="keyword">val</span> z: <span class="type">T</span>[<span class="type">Int</span>] = x;</div><div class="line">&lt;console&gt;:<span class="number">9</span>: error: <span class="class"><span class="keyword">type</span> <span class="title">mismatch</span></span>;</div><div class="line"> found   : <span class="type">T</span>[<span class="type">AnyRef</span>]</div><div class="line"> required: <span class="type">T</span>[<span class="type">Int</span>]</div><div class="line">       <span class="keyword">val</span> z: <span class="type">T</span>[<span class="type">Int</span>] = x;</div></pre></td></tr></table></figure>
<h3 id="Contravariance-Example"><a href="#Contravariance-Example" class="headerlink" title="Contravariance: Example"></a>Contravariance: Example</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div></pre></td><td class="code"><pre><div class="line">scala&gt; trait T[-A]</div><div class="line">defined trait T</div><div class="line"></div><div class="line">scala&gt; val x =new T[Any]&#123;&#125;</div><div class="line">x: T[Any] = $anon$1@7d2cd3e</div><div class="line"></div><div class="line">scala&gt; val y: T[String] = x</div><div class="line">y: T[String] = $anon$1@7d2cd3e</div><div class="line"></div><div class="line">scala&gt; trait Animal</div><div class="line">defined trait Animal</div><div class="line"></div><div class="line">scala&gt; trait Cat extends Animal</div><div class="line">defined trait Cat</div><div class="line"></div><div class="line">scala&gt; trait func[-arg]</div><div class="line">defined trait func</div><div class="line"></div><div class="line">scala&gt; val x =new func[Animal] &#123;&#125;</div><div class="line">x: func[Animal] = $anon$1@1435cced</div><div class="line"></div><div class="line">scala&gt; val y: func[Cat] =x</div><div class="line">y: func[Cat] = $anon$1@1435cced</div></pre></td></tr></table></figure>
<h3 id="Combine-Covariance-amp-Contravariance"><a href="#Combine-Covariance-amp-Contravariance" class="headerlink" title="Combine Covariance &amp; Contravariance"></a>Combine Covariance &amp; Contravariance</h3><figure class="highlight scala"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div></pre></td><td class="code"><pre><div class="line">scala&gt; <span class="class"><span class="keyword">trait</span> <span class="title">Animal</span></span></div><div class="line">defined <span class="class"><span class="keyword">trait</span> <span class="title">Animal</span></span></div><div class="line"></div><div class="line">scala&gt; <span class="class"><span class="keyword">trait</span> <span class="title">Cat</span> <span class="keyword">extends</span> <span class="title">Animal</span></span></div><div class="line">defined <span class="class"><span class="keyword">trait</span> <span class="title">Cat</span></span></div><div class="line"></div><div class="line">scala&gt; <span class="class"><span class="keyword">trait</span> <span class="title">func</span>[-arg,+<span class="type">Result</span>]</span></div><div class="line">defined <span class="class"><span class="keyword">trait</span> <span class="title">func</span></span></div><div class="line"></div><div class="line">scala&gt; <span class="keyword">val</span> x = <span class="keyword">new</span> func[<span class="type">Animal</span>,<span class="type">Cat</span>]&#123;&#125;</div><div class="line">x: func[<span class="type">Animal</span>,<span class="type">Cat</span>] = $anon$<span class="number">1</span>@<span class="number">5e546</span>ed6</div><div class="line"></div><div class="line">scala&gt; <span class="keyword">val</span> y:func[<span class="type">Cat</span>,<span class="type">Animal</span>] = x</div><div class="line">y: func[<span class="type">Cat</span>,<span class="type">Animal</span>] = $anon$<span class="number">1</span>@<span class="number">5e546</span>ed6</div><div class="line"></div><div class="line">scala&gt; <span class="keyword">val</span> z:func[<span class="type">Animal</span>,<span class="type">Animal</span>] = x</div><div class="line">z: func[<span class="type">Animal</span>,<span class="type">Animal</span>] = $anon$<span class="number">1</span>@<span class="number">3</span>fa796ff</div><div class="line"></div><div class="line">scala&gt; <span class="keyword">val</span> a:func[<span class="type">Cat</span>,<span class="type">Animal</span>] = x</div><div class="line">a: func[<span class="type">Cat</span>,<span class="type">Animal</span>] = $anon$<span class="number">1</span>@<span class="number">3</span>fa796ff</div><div class="line"></div><div class="line">scala&gt; <span class="keyword">val</span> b:func[<span class="type">Cat</span>,<span class="type">Cat</span>] = x</div><div class="line">b: func[<span class="type">Cat</span>,<span class="type">Cat</span>] = $anon$<span class="number">1</span>@<span class="number">3</span>fa796ff</div></pre></td></tr></table></figure>
<p>Typically, during the coding process, we will often use them to achieve certain functionality.</p>
<p>From C# language, a little different from Scala,<br>IList<t> is invariant on T, So a IList<cat> is not a IList<animal> and a IList<animal> is not a IList<cat>.</cat></animal></animal></cat></t></p>
<p>Why?<br>In C#, List is a mutable datastructure<br><figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">interface IList&lt;T&gt;</div><div class="line">&#123;</div><div class="line">    void Insert(int index, T item);</div><div class="line">    IEnumerator&lt;T&gt; GetEnumerator();    </div><div class="line">    ...</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>In Scala, List is an immutable datastructure, defined as followed:<br><figure class="highlight scala"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">sealed</span> <span class="keyword">abstract</span> <span class="class"><span class="keyword">class</span> <span class="title">List</span>[+<span class="type">A</span>] <span class="keyword">extends</span> <span class="title">AbstractSeq</span>[<span class="type">A</span>] </span></div><div class="line">&#123;</div><div class="line">  <span class="function"><span class="keyword">def</span> <span class="title">head</span></span>: <span class="type">A</span></div><div class="line">  <span class="function"><span class="keyword">def</span> <span class="title">tail</span></span>: <span class="type">List</span>[<span class="type">A</span>]</div><div class="line"></div><div class="line">  <span class="function"><span class="keyword">def</span> </span>::[<span class="type">B</span> &gt;: <span class="type">A</span>] (x: <span class="type">B</span>): <span class="type">List</span>[<span class="type">B</span>] =</div><div class="line">    <span class="keyword">new</span> scala.collection.immutable.::(x, <span class="keyword">this</span>)</div><div class="line"></div><div class="line">  ...</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>We can follow the simple rule In/Out annotations on its type parameters  to remeber them easily.<br>For “In” on its type parameters, we can follow as “Contravariance”. For “out”, can follow as “Covariance”.<br>Neither “In” nor “Out”, follow as “Invariance”.</p>
<blockquote>
<p>Quote from <a href="https://en.wikipedia.org/wiki/Covariance_and_contravariance_(computer_science" target="_blank" rel="external">Covariance and contravariance (computer_science)</a>)</p>
<h3 id="Inheritance-in-object-oriented-languages"><a href="#Inheritance-in-object-oriented-languages" class="headerlink" title="Inheritance in object-oriented languages"></a>Inheritance in object-oriented languages</h3><p>When a subclass overrides a method in a superclass, the compiler must check that the overriding method has the right type. While some languages require that the type exactly matches the type in the superclass (invariance), it is also type safe to allow the overriding method to have a “better” type. By the usual subtyping rule for function types, this means that the overriding method should return a more specific type (return type covariance), and accept a more general argument (argument type contravariance)<br><img src="/blog/images/Covariance-and-contravariance/imagesone.png" alt=""></p>
</blockquote>
<p>All the above information to enable us to write reasonable codes.  </p>
<p>I think have a good understanding of them can also help me to understand the difference between “Abstract Factory” and “Service Locator”.</p>
<p>A nice blog about  <a href="http://blog.ploeh.dk/2010/11/01/PatternRecognitionAbstractFactoryorServiceLocator/" target="_blank" rel="external">Pattern Recognition: Abstract Factory or Service Locator</a> written by Mark Seemann, which is worth taking time to read.</p>
<p>Please refer the below documents and blogs, for more clear understanding.</p>
<h2 id="References"><a href="#References" class="headerlink" title="References"></a>References</h2><p><a href="https://blogs.msdn.microsoft.com/ericlippert/2009/12/03/exact-rules-for-variance-validity/" target="_blank" rel="external">Exact rules for variance validity, By Eric Lippert</a></p>
<p><a href="http://se.ethz.ch/~meyer/ongoing/covariance/recast.pdf" target="_blank" rel="external">Type-safe covariance: Competent compilers can catch all catcalls, by Howard, Mark; Bezault, Eric; Meyer, Bertrand; Colnet, Dominique; Stapf, Emmanuel; Arnout, Karine; Keller, Markus </a></p>
<p><a href="http://www.artima.com/scalazine/articles/scalas_type_system.html" target="_blank" rel="external">The Purpose of Scala’s Type System: A Conversation with Martin Odersky, Part III, by Bill Venners and Frank Sommers</a></p>

      
    </div>
    
  </div>
  
    
    <div class="copyright">
        <p><span>本文标题:</span><a href="/blog/2016/02/16/Covariance-and-contravariance/">Covariance and contravariance</a></p>
        <p><span>文章作者:</span><a href="/" title="回到主页">Jason Song</a></p>
        <p><span>发布时间:</span>2016-02-16, 00:00:00</p>
        <p><span>最后更新:</span>2016-07-18, 11:52:47</p>
        <p>
            <span>原始链接:</span><a class="post-url" href="/blog/2016/02/16/Covariance-and-contravariance/" title="Covariance and contravariance">http://yoursite.com/blog/2016/02/16/Covariance-and-contravariance/</a>
            <span class="copy-path" data-clipboard-text="原文: http://yoursite.com/blog/2016/02/16/Covariance-and-contravariance/　　作者: Jason Song" title="点击复制文章链接"><i class="fa fa-clipboard"></i></span>
            <script> var clipboard = new Clipboard('.copy-path'); </script>
        </p>
        <p>
            <span>许可协议:</span><i class="fa fa-creative-commons"></i> <a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/4.0/" title="CC BY-NC-SA 4.0 International" target = "_blank">"署名-非商用-相同方式共享 4.0"</a> 转载请保留原文链接及作者。
        </p>
    </div>



    <nav id="article-nav">
        
        
            <div id="article-nav-older" class="article-nav-title">
                <a href="/blog/2016/01/08/Glance-at-Hangfire/">
                    Glance at  Hangfire
                </a>
            </div>
        
    </nav>

  
</article>

    <div id="toc" class="toc-article">
        <strong class="toc-title">文章目录</strong>
        
            <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#Definition"><span class="toc-number">1.</span> <span class="toc-text">Definition</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Sample"><span class="toc-number">2.</span> <span class="toc-text">Sample</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Covariance-Example-1"><span class="toc-number">2.1.</span> <span class="toc-text">Covariance: Example 1</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Covariance-Example-2"><span class="toc-number">2.2.</span> <span class="toc-text">Covariance: Example 2</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Contravariance-Example"><span class="toc-number">2.3.</span> <span class="toc-text">Contravariance: Example</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Combine-Covariance-amp-Contravariance"><span class="toc-number">2.4.</span> <span class="toc-text">Combine Covariance & Contravariance</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Inheritance-in-object-oriented-languages"><span class="toc-number">2.5.</span> <span class="toc-text">Inheritance in object-oriented languages</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#References"><span class="toc-number">3.</span> <span class="toc-text">References</span></a></li></ol>
        
    </div>
    <style>
        .left-col .switch-btn,
        .left-col .switch-area {
            display: none;
        }
        .toc-level-3 i,
        .toc-level-3 ol {
            display: none !important;
        }
    </style>

    <input type="button" id="tocButton" value="隐藏目录"  title="点击按钮隐藏或者显示文章目录">

    <script>
        yiliaConfig.toc = ["隐藏目录", "显示目录", !!"false"];
    </script>



    
<div class="share">
    
        <div class="bdsharebuttonbox">
            <a href="#" class="fa fa-twitter bds_twi" data-cmd="twi" title="分享到推特"></a>
            <a href="#" class="fa fa-weibo bds_tsina" data-cmd="tsina" title="分享到新浪微博"></a>
            <a href="#" class="fa fa-qq bds_sqq" data-cmd="sqq" title="分享给 QQ 好友"></a>
            <a href="#" class="fa fa-files-o bds_copy" data-cmd="copy" title="复制网址"></a>
            <a href="#" class="fa fa fa-envelope-o bds_mail" data-cmd="mail" title="通过邮件分享"></a>
            <a href="#" class="fa fa-weixin bds_weixin" data-cmd="weixin" title="生成文章二维码"></a>
            <a href="#" class="fa fa-share-alt bds_more" data-cmd="more"></i></a>
        </div>
        <script>
            window._bd_share_config={
                "common":{"bdSnsKey":{},"bdText":"Covariance and contravariance　| Jason Personal Blog　","bdMini":"2","bdMiniList":false,"bdPic":"","bdStyle":"0","bdSize":"24"},"share":{}};with(document)0[(getElementsByTagName('head')[0]||body).appendChild(createElement('script')).src='http://bdimg.share.baidu.com/static/api/js/share.js?v=89860593.js?cdnversion='+~(-new Date()/36e5)];
        </script>
    

    
</div>







    
        <section id="comments">
    <style> aside.comment-bar { margin: auto 30px; }</style>
    <div id="disqus_thread"></div>
    <script>
        var disqus_config = function(){
            this.page.url = 'http://yoursite.com/blog/2016/02/16/Covariance-and-contravariance/';
            this.page.identifier = '2016/02/16/Covariance-and-contravariance/';
        };
        var loadComment = function(){
            var d = document, s = d.createElement('script');
            s.src = '//kongpanda.disqus.com/embed.js';
            s.setAttribute('data-timestamp', +new Date());
            (d.head || d.body).appendChild(s);
        }
    </script>
    
    <script> loadComment(); </script>

</section>


    




    <div class="scroll" id="post-nav-button">
        
            <a href="/" title="回到主页"><i class="fa fa-home"></i></a>
        

        <a title="文章列表"><i class="fa fa-bars"></i><i class="fa fa-times"></i></a>

        
            <a href="/blog/2016/01/08/Glance-at-Hangfire/" title="下一篇: Glance at  Hangfire">
                <i class="fa fa-angle-right"></i>
            </a>
        
    </div>

    <ul class="post-list"><li class="post-list-item"><a class="post-list-link" href="/blog/2016/02/16/Covariance-and-contravariance/">Covariance and contravariance</a></li><li class="post-list-item"><a class="post-list-link" href="/blog/2016/01/08/Glance-at-Hangfire/">Glance at  Hangfire</a></li><li class="post-list-item"><a class="post-list-link" href="/blog/2016/01/06/First-month-in-2016/">First month in 2016</a></li><li class="post-list-item"><a class="post-list-link" href="/blog/2015/12/29/The-interesting-codes/">The interesting codes</a></li><li class="post-list-item"><a class="post-list-link" href="/blog/2015/12/15/Be-careful-about-little-things/">Be careful about little things</a></li><li class="post-list-item"><a class="post-list-link" href="/blog/2015/04/05/CIC-WebChat-4-0-Tool-Installation-Guide/">CIC WebChat 4.0 Tool Installation Guide</a></li></ul>




    <script>
        
    </script>
</div>
      <footer id="footer">
    <div class="outer">
        <div id="footer-info">
            <div class="footer-left">
                <i class="fa fa-copyright"></i> 
                2016 Jason Song
            </div>
            <div class="footer-right">
                <a href="http://hexo.io/" target="_blank" title="快速、简洁且高效的博客框架">Hexo</a>  Theme <a href="https://github.com/MOxFIVE/hexo-theme-yelee" target="_blank" title="简而不减 Hexo 双栏博客主题  v3.5">Yelee</a> by MOxFIVE <i class="fa fa-heart animated infinite pulse"></i>
            </div>
        </div>
        
            <div class="visit">
                
                    <span id="busuanzi_container_site_pv" style='display:none'>
                        <span id="site-visit" >本站到访数: 
                            <span id="busuanzi_value_site_uv"></span>
                        </span>
                    </span>
                
                
                    <span>, </span>
                
                
                    <span id="busuanzi_container_page_pv" style='display:none'>
                        <span id="page-visit">本页阅读量: 
                            <span id="busuanzi_value_page_pv"></span>
                        </span>
                    </span>
                
            </div>
        
    </div>
</footer>
    </div>
    
<script data-main="/blog/js/main.js" src="//cdn.bootcss.com/require.js/2.2.0/require.min.js"></script>

    <script>
        $(document).ready(function() {
            var iPad = window.navigator.userAgent.indexOf('iPad');
            if (iPad > -1 || $(".left-col").css("display") === "none") {
                var bgColorList = ["#9db3f4", "#414141", "#e5a859", "#f5dfc6", "#c084a0", "#847e72", "#cd8390", "#996731"];
                var bgColor = Math.ceil(Math.random() * (bgColorList.length - 1));
                $("body").css({"background-color": bgColorList[bgColor], "background-size": "cover"});
            }
            else {
                var backgroundnum = 5;
                var backgroundimg = "url(/blog//background/bg-x.jpg)".replace(/x/gi, Math.ceil(Math.random() * backgroundnum));
                $("body").css({"background": backgroundimg, "background-attachment": "fixed", "background-size": "cover"});
            }
        })
    </script>





<div class="scroll" id="scroll">
    <a href="#" title="返回顶部"><i class="fa fa-arrow-up"></i></a>
    <a href="#comments" onclick="load$hide();" title="查看评论"><i class="fa fa-comments-o"></i></a>
    <a href="#footer" title="转到底部"><i class="fa fa-arrow-down"></i></a>
</div>
<script>
    // Open in New Window
    
        var oOpenInNew = {
            
            
            
            
            
            
             archives: ".archive-article-title", 
             miniArchives: "a.post-list-link", 
            
             friends: "#js-friends a", 
             socail: ".social a" 
        }
        for (var x in oOpenInNew) {
            $(oOpenInNew[x]).attr("target", "_blank");
        }
    
</script>

<script async src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js">
</script>
  </div>
</body>
</html>